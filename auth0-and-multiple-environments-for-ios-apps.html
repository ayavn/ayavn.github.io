<!DOCTYPE html>
<html lang="en">
<head>
          <title>AYAVN - Auth0 and multiple environments for iOS apps</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <link href="https://www.ayavn.us/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="AYAVN Full Atom Feed" />
        <link href="https://www.ayavn.us/feeds/articles.atom.xml" type="application/atom+xml" rel="alternate" title="AYAVN Categories Atom Feed" />




    <meta name="tags" content="auth0" />
    <meta name="tags" content="iOS" />

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-4L40QBFNWT"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-4L40QBFNWT');
        </script>
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://www.ayavn.us/">AYAVN</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/pages/welcome-to-my-blog.html">About</a></li>
            <li><a href="/category/articles.html">Articles</a></li>
            <li><a href="/pages/contact.html">Contact me</a></li>
            <li><a href="/pages/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="/pages/terms-and-conditions.html">Terms</a></li>
            <li><a href="/404.html">404</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://www.ayavn.us/auth0-and-multiple-environments-for-ios-apps.html" rel="bookmark"
         title="Permalink to Auth0 and multiple environments for iOS apps">Auth0 and multiple environments for iOS apps</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2022-05-19T09:20:30.812809+07:00">
      Thu 19 May 2022
    </time>
    <time class="modified" datetime="2022-05-19T09:20:30.812809+07:00">
      Thu 19 May 2022
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://www.ayavn.us/author/hoang-trong-anh.html">Hoang Trong Anh</a>
    </address>
    <div class="category">
        Category: <a href="https://www.ayavn.us/category/articles.html">articles</a>
    </div>
    <div class="tags">
        Tags:
            <a href="https://www.ayavn.us/tag/auth0.html">auth0</a>
            <a href="https://www.ayavn.us/tag/ios.html">iOS</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <h1>Auth0 and multiple environments for iOS apps</h1>
<p>One thing that's a little odd about <code>Auth0</code> is that you need to setup an <code>Auth0.plist</code> file to configure the service. This becomes a problem when you want to separate <code>development</code> from <code>production</code> environments where keys are different.</p>
<p>One trick to solve this requires setting up a “Run Phase” that can copy the final .plist at build time. Here's how you do it:</p>
<h2>Go to settings</h2>
<p>Click on the little + symbol and add the following <code>Run Script</code>:</p>
<div class="highlight"><pre><span></span><code>RESOURCE_PATH=<span class="nv">$SRCROOT</span>/Authentication

FILENAME_IN_BUNDLE=Auth0.plist

BUILD_APP_DIR=<span class="cp">${</span><span class="n">BUILT_PRODUCTS_DIR</span><span class="cp">}</span>/<span class="cp">${</span><span class="n">PRODUCT_NAME</span><span class="cp">}</span>.app

if [ &quot;<span class="nv">$CONFIGURATION</span>&quot; == &quot;Debug&quot; ]; then
cp <span class="nv">$RESOURCE_PATH</span>/Auth0-development.plist <span class="nv">$BUILD_APP_DIR</span>/<span class="nv">$FILENAME_IN_BUNDLE</span>
else
cp <span class="nv">$RESOURCE_PATH</span>/Auth0-production.plist <span class="nv">$BUILD_APP_DIR</span>/<span class="nv">$FILENAME_IN_BUNDLE</span>
fi
</code></pre></div>

<h2>Create the different files for development and production</h2>
<p>Create a folder called “Authentication” to match the script above and add your new configuration files there. One for <code>Auth0-development.plist</code> and another for <code>Auth0-production.plist</code>.</p>
<p>They should like something like this:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>ClientId<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>edb274d8c594429b8ccc684d79d771f6<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>Domain<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>dev-frs11rs2.us.auth0.com<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div>

<p>Done!, once you run your app in either <code>development</code> or <code>production</code> the right config file will be used.</p>
<h3>Refer:</h3>
<ul>
<li><a href="https://collectednotes.com/alejandro/auth0-and-multiple-environments-for-ios-apps#auth0-and-multiple-environments-for-ios-apps">https://collectednotes.com/alejandro/auth0-and-multiple-environments-for-ios-apps#auth0-and-multiple-environments-for-ios-apps</a></li>
</ul>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>